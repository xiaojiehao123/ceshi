<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>智能社—http://www.zhinengshe.com</title>
    <meta name="viewport" content="width=320">
    <style>
        body{
            text-align: center;
        }
        #box{
            width:80%;
            height:300px;
            border: 1px solid #000;
            margin: 0 auto;
        }
    </style>
    <script src="http://api.map.baidu.com/api?v=2.0&ak=EAc9690e060a06cfe50a260d491afd15"></script>
    <script>
        window.onload=function(){
            var oBtn=document.getElementById('btn1');
            var oT=document.getElementById('t1');

            //生成地图
            var map = new BMap.Map("box");

            //设置中心点，以及缩放
            navigator.geolocation.watchPosition(function(ev){
                var longitude=ev.coords.longitude;
                var latitude=ev.coords.latitude;

                var point = new BMap.Point(longitude, latitude);

                map.centerAndZoom(point, 15);

                //添加标记物
                var myIcon = new BMap.Icon("http://developer.baidu.com/map/jsdemo/img/fox.gif", new BMap.Size(300,157));
                var marker2 = new BMap.Marker(point,{icon:myIcon});  // 创建标注
                map.addOverlay(marker2);
            },function(){
                alert('获取失败');
            },{
                frequency:1000
            });



        };
    </script>
</head>
<body>
<div id="box">

</div>
</body>
</html>